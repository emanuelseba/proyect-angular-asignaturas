<div class="card" *ngIf="rut">
    <div class="card-body">

        <div>
            <div class="form-inline my-2 my-lg-0">
                <h5 class="card-title">EVALUACIONES PARCIALES </h5>
                <div class="col-7"></div>
                <button type="button" (click)="open(agregarNota)" class="btn btn-primary" data-toggle="button" aria-pressed="false"
                        autocomplete="off">
                        Agregar Nota
                    </button>
            </div>

            <h6 class="card-subtitle mb-2 text-muted"> {{alumno.nombre | uppercase}} {{alumno.apellido | uppercase}}</h6>


            <br>

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col" width="60%">Fecha</th>
                        <th scope="col" width="40%">Nota</th>
                        <!-- <th scope="col" width="20%">Acción</th> -->
                    </tr>
                </thead>
                <tbody *ngFor="let nota of notas;">
                    <tr>
                        <td>{{ nota.fechaRendida}}</td>
                        <td>{{ nota.nota}}</td>
                        <!-- <td>
                             <button type="button" (click)="open(editarNota)" class="btn btn-outline-success">Editar</button> 
                            <button type="button" rel="" (click)="open(eliminarNota)" class="btn btn-outline-danger">Borrar</button> 
                        </td> -->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<ng-template #agregarNota let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Agregar Nota</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="form" (submit)="savePost($event)">
            <div class="form-group col-md-12">
                <label>Nota</label>
                <input type="number" formControlName="nota" min="1" max="100" class="form-control" placeholder="Ingrese Nota">
            </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-dark">Guardar</button>
          </div>
        </form>
      </div>
      
</ng-template>

<ng-template #editarNota let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Editar Nota</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="form" (submit)="updatePost($event)">
            <div class="form-group col-md-12">
                <label>Nota</label>
                <input type="number" formControlName="nota" min="1" max="100" class="form-control" placeholder="Ingrese Nota">
            </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-dark">Guardar</button>
          </div>
        </form>
      </div>
</ng-template>

<ng-template #eliminarNota let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-title">Confirmación de eliminación</h4>
        <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><strong>¿Estás seguro(a) de que deseas eliminar esta nota?</strong></p>
        <p>
        <span class="text-danger">Esta operación no se puede deshacer. </span>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancelar</button>
        <button type="button" ngbAutofocus class="btn btn-danger" (click)="modal.close('Ok click')">Sí</button>
      </div>
</ng-template>